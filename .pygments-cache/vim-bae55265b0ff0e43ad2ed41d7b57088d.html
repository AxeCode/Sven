<div class="highlight"><pre><span class="c">&quot; Use Vim settings, rather then Vi settings. This setting must be as early as</span>
<span class="c">&quot; possible, as it has side effects.</span>
<span class="k">set</span> <span class="nb">nocompatible</span>

<span class="c">&quot; Highlight current line</span>
<span class="k">au</span> <span class="nb">WinLeave</span> * <span class="k">set</span> <span class="nb">nocursorline</span> <span class="nb">nocursorcolumn</span>
<span class="k">au</span> <span class="nb">WinEnter</span> * <span class="k">set</span> <span class="nb">cursorline</span> <span class="nb">cursorcolumn</span>
<span class="k">set</span> <span class="nb">cursorline</span> <span class="nb">cursorcolumn</span>

<span class="c">&quot; Leader</span>
<span class="k">let</span> mapleader <span class="p">=</span> <span class="s2">&quot;,&quot;</span>

<span class="k">set</span> <span class="nb">backspace</span><span class="p">=</span><span class="m">2</span>   <span class="c">&quot; Backspace deletes like most programs in insert mode</span>
<span class="k">set</span> <span class="nb">nobackup</span>
<span class="k">set</span> <span class="nb">nowritebackup</span>
<span class="k">set</span> <span class="nb">noswapfile</span>    <span class="c">&quot; http://robots.thoughtbot.com/post/18739402579/global-gitignore#comment-458413287</span>
<span class="k">set</span> <span class="k">history</span><span class="p">=</span><span class="m">50</span>
<span class="k">set</span> <span class="nb">ruler</span>         <span class="c">&quot; show the cursor position all the time</span>
<span class="k">set</span> <span class="nb">showcmd</span>       <span class="c">&quot; display incomplete commands</span>
<span class="k">set</span> <span class="nb">incsearch</span>     <span class="c">&quot; do incremental searching</span>
<span class="k">set</span> <span class="nb">laststatus</span><span class="p">=</span><span class="m">2</span>  <span class="c">&quot; Always display the status line</span>
<span class="k">set</span> <span class="nb">autowrite</span>     <span class="c">&quot; Automatically :write before running commands</span>
<span class="k">set</span> <span class="k">confirm</span>       <span class="c">&quot; Need confrimation while exit</span>
<span class="k">set</span> <span class="nb">fileencodings</span><span class="p">=</span>utf<span class="m">-8</span><span class="p">,</span>gb18030<span class="p">,</span>gbk<span class="p">,</span>big5

<span class="c">&quot; Switch syntax highlighting on, when the terminal has colors</span>
<span class="c">&quot; Also switch on highlighting the last used search pattern.</span>
<span class="k">if</span> <span class="p">(</span>&amp;<span class="nb">t_Co</span> <span class="p">&gt;</span> <span class="m">2</span> <span class="p">||</span> has<span class="p">(</span><span class="s2">&quot;gui_running&quot;</span><span class="p">))</span> &amp;&amp; <span class="p">!</span>exists<span class="p">(</span><span class="s2">&quot;syntax_on&quot;</span><span class="p">)</span>
  <span class="nb">syntax</span> <span class="k">on</span>
<span class="k">endif</span>

<span class="k">if</span> filereadable<span class="p">(</span>expand<span class="p">(</span><span class="s2">&quot;~/.vimrc.bundles&quot;</span><span class="p">))</span>
  source <span class="p">~</span>/.vimrc.bundles
<span class="k">endif</span>

<span class="k">filetype</span> plugin indent <span class="k">on</span>

augroup vimrcEx
  <span class="k">autocmd</span><span class="p">!</span>

<span class="c">  &quot; When editing a file, always jump to the last known cursor position.</span>
<span class="c">  &quot; Don&#39;t do it for commit messages, when the position is invalid, or when</span>
<span class="c">  &quot; inside an event handler (happens when dropping a file on gvim).</span>
  <span class="k">autocmd</span> <span class="nb">BufReadPost</span> *
    \ <span class="k">if</span> &amp;<span class="nb">ft</span> <span class="p">!=</span> <span class="s1">&#39;gitcommit&#39;</span> &amp;&amp; line<span class="p">(</span><span class="s2">&quot;&#39;\&quot;&quot;</span><span class="p">)</span> <span class="p">&gt;</span> <span class="m">0</span> &amp;&amp; line<span class="p">(</span><span class="s2">&quot;&#39;\&quot;&quot;</span><span class="p">)</span> <span class="p">&lt;=</span> line<span class="p">(</span><span class="s2">&quot;$&quot;</span><span class="p">)</span> <span class="p">|</span>
    \   exe <span class="s2">&quot;normal g`\&quot;&quot;</span> <span class="p">|</span>
    \ <span class="k">endif</span>

<span class="c">  &quot; Cucumber navigation commands</span>
  <span class="k">autocmd</span> <span class="nb">User</span> Rails Rnavcommand step features<span class="sr">/step_definitions -glob=**/</span>* <span class="p">-</span>suffix<span class="p">=</span>_steps.rb
  <span class="k">autocmd</span> <span class="nb">User</span> Rails Rnavcommand config config <span class="p">-</span>glob<span class="p">=</span>**/* <span class="p">-</span>suffix<span class="p">=</span>.rb <span class="p">-</span>default<span class="p">=</span>routes

<span class="c">  &quot; Set syntax highlighting for specific file types</span>
  <span class="k">autocmd</span> <span class="nb">BufRead</span><span class="p">,</span><span class="nb">BufNewFile</span> Appraisals <span class="k">set</span> <span class="k">filetype</span><span class="p">=</span><span class="k">ruby</span>
  <span class="k">autocmd</span> <span class="nb">BufRead</span><span class="p">,</span><span class="nb">BufNewFile</span> *.md <span class="k">set</span> <span class="k">filetype</span><span class="p">=</span>markdown

<span class="c">  &quot; Enable spellchecking for Markdown</span>
  <span class="k">autocmd</span> <span class="nb">FileType</span> markdown <span class="k">setlocal</span> <span class="k">spell</span>

<span class="c">  &quot; Automatically wrap at 80 characters for Markdown</span>
  <span class="k">autocmd</span> <span class="nb">BufRead</span><span class="p">,</span><span class="nb">BufNewFile</span> *.md <span class="k">setlocal</span> <span class="nb">textwidth</span><span class="p">=</span><span class="m">80</span>
augroup END

<span class="c">&quot; Softtabs, 2 spaces</span>
<span class="k">set</span> <span class="nb">tabstop</span><span class="p">=</span><span class="m">2</span>
<span class="k">set</span> <span class="nb">shiftwidth</span><span class="p">=</span><span class="m">2</span>
<span class="k">set</span> <span class="nb">shiftround</span>
<span class="k">set</span> <span class="nb">expandtab</span>

<span class="c">&quot; Display extra whitespace</span>
<span class="k">set</span> <span class="nb">list</span> <span class="nb">listchars</span><span class="p">=</span><span class="k">tab</span>:»·<span class="p">,</span>trail:·

<span class="c">&quot; Use The Silver Searcher https://github.com/ggreer/the_silver_searcher</span>
<span class="k">if</span> executable<span class="p">(</span><span class="s1">&#39;ag&#39;</span><span class="p">)</span>
<span class="c">  &quot; Use Ag over Grep</span>
  <span class="k">set</span> <span class="nb">grepprg</span><span class="p">=</span>ag\ <span class="p">--</span>nogroup\ <span class="p">--</span>nocolor

<span class="c">  &quot; Use ag in CtrlP for listing files. Lightning fast and respects .gitignore</span>
  <span class="k">let</span> <span class="k">g</span>:ctrlp_user_command <span class="p">=</span> <span class="s1">&#39;ag %s -l --nocolor -g &quot;&quot;&#39;</span>

<span class="c">  &quot; ag is fast enough that CtrlP doesn&#39;t need to cache</span>
  <span class="k">let</span> <span class="k">g</span>:ctrlp_use_caching <span class="p">=</span> <span class="m">0</span>
<span class="k">endif</span>

<span class="c">&quot; Color scheme</span>
<span class="k">colorscheme</span> molokai
<span class="nb">highlight</span> NonText guibg<span class="p">=</span><span class="mh">#060606</span>
<span class="nb">highlight</span> Folded  guibg<span class="p">=</span>#<span class="m">0</span>A<span class="m">0</span>A<span class="m">0</span>A guifg<span class="p">=</span>#<span class="m">9090</span>D<span class="m">0</span>

<span class="c">&quot; Make it obvious where 80 characters is</span>
<span class="k">set</span> <span class="nb">textwidth</span><span class="p">=</span><span class="m">80</span>
<span class="k">set</span> <span class="nb">colorcolumn</span><span class="p">=+</span><span class="m">1</span>

<span class="c">&quot; Numbers</span>
<span class="k">set</span> <span class="k">number</span>
<span class="k">set</span> <span class="nb">numberwidth</span><span class="p">=</span><span class="m">5</span>

<span class="c">&quot; Tab completion</span>
<span class="c">&quot; will insert tab at beginning of line,</span>
<span class="c">&quot; will use completion if not at beginning</span>
<span class="k">set</span> <span class="nb">wildmode</span><span class="p">=</span><span class="nb">list</span>:longest<span class="p">,</span><span class="nb">list</span>:full
<span class="k">function</span><span class="p">!</span> InsertTabWrapper<span class="p">()</span>
    <span class="k">let</span> <span class="k">col</span> <span class="p">=</span> <span class="k">col</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)</span> <span class="p">-</span> <span class="m">1</span>
    <span class="k">if</span> <span class="p">!</span><span class="k">col</span> <span class="p">||</span> getline<span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)</span>[<span class="k">col</span> <span class="p">-</span> <span class="m">1</span>] <span class="p">!~</span> <span class="s1">&#39;\k&#39;</span>
        <span class="k">return</span> <span class="s2">&quot;\&lt;tab&gt;&quot;</span>
    <span class="k">else</span>
        <span class="k">return</span> <span class="s2">&quot;\&lt;c-p&gt;&quot;</span>
    <span class="k">endif</span>
<span class="k">endfunction</span>
<span class="nb">inoremap</span> <span class="p">&lt;</span>Tab<span class="p">&gt;</span> <span class="p">&lt;</span><span class="k">c</span><span class="p">-</span><span class="k">r</span><span class="p">&gt;=</span>InsertTabWrapper<span class="p">()&lt;</span><span class="k">cr</span><span class="p">&gt;</span>
<span class="nb">inoremap</span> <span class="p">&lt;</span>S<span class="p">-</span>Tab<span class="p">&gt;</span> <span class="p">&lt;</span><span class="k">c</span><span class="p">-</span><span class="k">n</span><span class="p">&gt;</span>

<span class="c">&quot; Exclude Javascript files in :Rtags via rails.vim due to warnings when parsing</span>
<span class="k">let</span> <span class="k">g</span>:Tlist_Ctags_Cmd<span class="p">=</span><span class="s2">&quot;ctags --exclude=&#39;*.js&#39;&quot;</span>

<span class="c">&quot; Index ctags from any project, including those outside Rails</span>
map <span class="p">&lt;</span>Leader<span class="p">&gt;</span>ct :<span class="p">!</span>ctags <span class="p">-</span>R .<span class="p">&lt;</span>CR<span class="p">&gt;</span>

<span class="c">&quot; Switch between the last two files</span>
<span class="nb">nnoremap</span> <span class="p">&lt;</span>leader<span class="p">&gt;&lt;</span>leader<span class="p">&gt;</span> <span class="p">&lt;</span><span class="k">c</span><span class="p">-</span>^<span class="p">&gt;</span>

<span class="c">&quot; Get off my lawn</span>
<span class="nb">nnoremap</span> <span class="p">&lt;</span>Left<span class="p">&gt;</span> :<span class="k">echoe</span> <span class="s2">&quot;Use h&quot;</span><span class="p">&lt;</span>CR<span class="p">&gt;</span>
<span class="nb">nnoremap</span> <span class="p">&lt;</span>Right<span class="p">&gt;</span> :<span class="k">echoe</span> <span class="s2">&quot;Use l&quot;</span><span class="p">&lt;</span>CR<span class="p">&gt;</span>
<span class="nb">nnoremap</span> <span class="p">&lt;</span>Up<span class="p">&gt;</span> :<span class="k">echoe</span> <span class="s2">&quot;Use k&quot;</span><span class="p">&lt;</span>CR<span class="p">&gt;</span>
<span class="nb">nnoremap</span> <span class="p">&lt;</span>Down<span class="p">&gt;</span> :<span class="k">echoe</span> <span class="s2">&quot;Use j&quot;</span><span class="p">&lt;</span>CR<span class="p">&gt;</span>

<span class="c">&quot; vim-rspec mappings</span>
<span class="nb">nnoremap</span> <span class="p">&lt;</span>Leader<span class="p">&gt;</span><span class="k">t</span> :<span class="k">call</span> RunCurrentSpecFile<span class="p">()&lt;</span>CR<span class="p">&gt;</span>
<span class="nb">nnoremap</span> <span class="p">&lt;</span>Leader<span class="p">&gt;</span><span class="k">s</span> :<span class="k">call</span> RunNearestSpec<span class="p">()&lt;</span>CR<span class="p">&gt;</span>
<span class="nb">nnoremap</span> <span class="p">&lt;</span>Leader<span class="p">&gt;</span><span class="k">l</span> :<span class="k">call</span> RunLastSpec<span class="p">()&lt;</span>CR<span class="p">&gt;</span>

<span class="c">&quot; Run commands that require an interactive shell</span>
<span class="nb">nnoremap</span> <span class="p">&lt;</span>Leader<span class="p">&gt;</span><span class="k">r</span> :RunInInteractiveShell<span class="p">&lt;</span>space<span class="p">&gt;</span>

<span class="c">&quot; Treat &lt;li&gt; and &lt;p&gt; tags like the block tags they are</span>
<span class="k">let</span> <span class="k">g</span>:html_indent_tags <span class="p">=</span> <span class="s1">&#39;li\|p&#39;</span>

<span class="c">&quot; Open new split panes to right and bottom, which feels more natural</span>
<span class="k">set</span> <span class="nb">splitbelow</span>
<span class="k">set</span> <span class="nb">splitright</span>

<span class="c">&quot; Quicker window movement</span>
<span class="nb">nnoremap</span> <span class="p">&lt;</span>C<span class="p">-</span><span class="k">j</span><span class="p">&gt;</span> <span class="p">&lt;</span>C<span class="p">-</span><span class="k">w</span><span class="p">&gt;</span><span class="k">j</span>
<span class="nb">nnoremap</span> <span class="p">&lt;</span>C<span class="p">-</span><span class="k">k</span><span class="p">&gt;</span> <span class="p">&lt;</span>C<span class="p">-</span><span class="k">w</span><span class="p">&gt;</span><span class="k">k</span>
<span class="nb">nnoremap</span> <span class="p">&lt;</span>C<span class="p">-</span><span class="k">h</span><span class="p">&gt;</span> <span class="p">&lt;</span>C<span class="p">-</span><span class="k">w</span><span class="p">&gt;</span><span class="k">h</span>
<span class="nb">nnoremap</span> <span class="p">&lt;</span>C<span class="p">-</span><span class="k">l</span><span class="p">&gt;</span> <span class="p">&lt;</span>C<span class="p">-</span><span class="k">w</span><span class="p">&gt;</span><span class="k">l</span>

<span class="c">&quot; configure syntastic syntax checking to check on open as well as save</span>
<span class="k">let</span> <span class="k">g</span>:syntastic_check_on_open<span class="p">=</span><span class="m">1</span>
<span class="k">let</span> <span class="k">g</span>:syntastic_html_tidy_ignore_errors<span class="p">=</span>[<span class="s2">&quot; proprietary attribute \&quot;ng-&quot;</span>]

<span class="k">autocmd</span> <span class="nb">Syntax</span> javascript <span class="k">set</span> <span class="nb">syntax</span><span class="p">=</span>jquery <span class="c">&quot; JQuery syntax support</span>

<span class="k">set</span> <span class="nb">matchpairs</span><span class="p">+=&lt;</span>:<span class="p">&gt;</span>
<span class="k">set</span> <span class="nb">statusline</span><span class="p">+=</span>%{fugitive#<span class="nb">statusline</span><span class="p">()</span>} <span class="c">&quot;  Git Hotness</span>

<span class="c">&quot; Nerd Tree</span>
<span class="k">let</span> NERDChristmasTree<span class="p">=</span><span class="m">0</span>
<span class="k">let</span> NERDTreeWinSize<span class="p">=</span><span class="m">40</span>
<span class="k">let</span> NERDTreeChDirMode<span class="p">=</span><span class="m">2</span>
<span class="k">let</span> NERDTreeIgnore<span class="p">=</span>[<span class="s1">&#39;\~$&#39;</span><span class="p">,</span> <span class="s1">&#39;\.pyc$&#39;</span><span class="p">,</span> <span class="s1">&#39;\.swp$&#39;</span>]
<span class="k">let</span> NERDTreeShowBookmarks<span class="p">=</span><span class="m">1</span>
<span class="k">let</span> NERDTreeWinPos<span class="p">=</span><span class="s2">&quot;right&quot;</span>
<span class="k">autocmd</span> vimenter * <span class="k">if</span> <span class="p">!</span>argc<span class="p">()</span> <span class="p">|</span> NERDTree <span class="p">|</span> <span class="k">endif</span> <span class="c">&quot; Automatically open a NERDTree if no files where specified</span>
<span class="k">autocmd</span> bufenter * <span class="k">if</span> <span class="p">(</span>winnr<span class="p">(</span><span class="s2">&quot;$&quot;</span><span class="p">)</span> <span class="p">==</span> <span class="m">1</span> &amp;&amp; exists<span class="p">(</span><span class="s2">&quot;b:NERDTreeType&quot;</span><span class="p">)</span> &amp;&amp; <span class="k">b</span>:NERDTreeType <span class="p">==</span> <span class="s2">&quot;primary&quot;</span><span class="p">)</span> <span class="p">|</span> <span class="k">q</span> <span class="p">|</span> <span class="k">endif</span> <span class="c">&quot; Close vim if the only window left open is a NERDTree</span>
nmap <span class="p">&lt;</span>F5<span class="p">&gt;</span> :NERDTreeToggle<span class="p">&lt;</span><span class="k">cr</span><span class="p">&gt;</span>

<span class="c">&quot; Emmet</span>
<span class="k">let</span> <span class="k">g</span>:user_emmet_mode<span class="p">=</span><span class="s1">&#39;i&#39;</span> <span class="c">&quot; enable for insert mode</span>

<span class="c">&quot; Search results high light</span>
<span class="k">set</span> <span class="nb">hlsearch</span>

<span class="c">&quot; nohlsearch shortcut</span>
nmap <span class="p">-</span><span class="nb">hl</span> :<span class="k">nohlsearch</span><span class="p">&lt;</span><span class="k">cr</span><span class="p">&gt;</span>
nmap <span class="p">+</span><span class="nb">hl</span> :<span class="k">set</span> <span class="nb">hlsearch</span><span class="p">&lt;</span><span class="k">cr</span><span class="p">&gt;</span>

<span class="c">&quot; Javascript syntax hightlight</span>
<span class="nb">syntax</span> enable

<span class="c">&quot; ctrap</span>
<span class="k">set</span> <span class="nb">wildignore</span><span class="p">+=</span>*<span class="sr">/tmp/</span>*<span class="p">,</span>*.<span class="k">so</span><span class="p">,</span>*.swp<span class="p">,</span>*.zip     <span class="s2">&quot; MacOSX/Linux&quot;</span>
<span class="k">let</span> <span class="k">g</span>:ctrlp_custom_ignore <span class="p">=</span> <span class="s1">&#39;\v[\/]\.(git|hg|svn)$&#39;</span>

<span class="nb">nnoremap</span> <span class="p">&lt;</span>leader<span class="p">&gt;</span><span class="k">w</span> :<span class="k">w</span><span class="p">&lt;</span>CR<span class="p">&gt;</span>
<span class="nb">nnoremap</span> <span class="p">&lt;</span>leader<span class="p">&gt;</span><span class="k">q</span> :<span class="k">q</span><span class="p">&lt;</span>CR<span class="p">&gt;</span>

<span class="c">&quot; RSpec.vim mappings</span>
map <span class="p">&lt;</span>Leader<span class="p">&gt;</span><span class="k">t</span> :<span class="k">call</span> RunCurrentSpecFile<span class="p">()&lt;</span>CR<span class="p">&gt;</span>
map <span class="p">&lt;</span>Leader<span class="p">&gt;</span><span class="k">s</span> :<span class="k">call</span> RunNearestSpec<span class="p">()&lt;</span>CR<span class="p">&gt;</span>
map <span class="p">&lt;</span>Leader<span class="p">&gt;</span><span class="k">l</span> :<span class="k">call</span> RunLastSpec<span class="p">()&lt;</span>CR<span class="p">&gt;</span>
map <span class="p">&lt;</span>Leader<span class="p">&gt;</span><span class="k">a</span> :<span class="k">call</span> RunAllSpecs<span class="p">()&lt;</span>CR<span class="p">&gt;</span>

<span class="c">&quot; Vim-instant-markdown doesn&#39;t work in zsh</span>
<span class="k">set</span> <span class="k">shell</span><span class="p">=</span>bash\ <span class="p">-</span><span class="k">i</span>

<span class="c">&quot; Snippets author</span>
<span class="k">let</span> <span class="k">g</span>:snips_author <span class="p">=</span> <span class="s1">&#39;Yuez&#39;</span>

<span class="c">&quot; Local config</span>
<span class="k">if</span> filereadable<span class="p">(</span>$HOME . <span class="s2">&quot;/.vimrc.local&quot;</span><span class="p">)</span>
  source <span class="p">~</span>/.vimrc.local
<span class="k">endif</span>
</pre></div>